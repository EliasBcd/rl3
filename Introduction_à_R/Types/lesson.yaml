- Class: meta
  Course: Introduction à R
  Lesson: Types
  Author: Elias Bouacida
  Type: Standard
  Organization: Université Paris 8
  Version: 2.4.5

- Class: text
  Output: Nous avons pour l'instant utilisé un seul type de valeurs, les valeurs
    numériques.
    Il en existe en fait d'autres.
    Pour en donner quelques-uns des plus importants, on a dans R les booléens, 
    les caractères, les vecteurs, les listes et les data.frames.
    Il y en a pleins d'autres.

- Class: cmd_question
  Output: Les booléens sont simples, il y a deux valeurs possibles, TRUE et 
    FALSE (abrégé parfois en T et F).
    Ils nous servirons beaucoup plus tard, pour l'instant, tapez simplement T.
  CorrectAnswer: T
  AnswerTests: omnitest(correctExpr='T')
  Hint: Tapez T (et non pas TRUE)
  
- Class: cmd_question
  Output: Les booléens sont généralement le résultat d'une comparaison.
    Essayez de taper 3>2
  CorrectAnswer: 3>2
  AnswerTests: omnitest(correctExpr='3>2')
  Hint: Tapez 3>2
  
- Class: text
  Output: On obtient TRUE !

- Class: mult_question
  Output: "Si on tape 3 < 2, que devrait-on obtenir ?"
  AnswerChoices: TRUE; FALSE
  CorrectAnswer: FALSE
  AnswerTests: omnitest(correctVal="FALSE")
  Hint: Si ce n'est l'un, c'est l'autre !

# - Class: cmd_question
#   Output: Un autre type de valeur important sont les caractères. 
#     Les chaînes de caractères sont entre guillemets \" ou '.
#     Assigner le nom du cours à l'objet nom.
#   CorrectAnswer: nom <- 'Introduction à R'
#   AnswerTests: omnitest()
#   Hint: Taper nom <- "Introduction à R"
# 
# - Class: text
#   Output: "Nous aurons une leçon dédiée au -- chaîne de -- caractères."


  
- Class: cmd_question
  Output: Imaginons qu'on a demandé la taille en centimètres de 5 personnes et
    qu'on souhaite calculer leur taille moyenne.
    On pourrait créer autant d'objets que de tailles et calculer la moyenne.
    Commençons par assigner 156 à taille1.
  CorrectAnswer: taille1 <- 156
  AnswerTests: omnitest(correctExpr = 'taille1 <- 156')
  Hint: Tapez taille1 <- 156
  
- Class: cmd_question
  Output: Puis 164 à taille2.
  CorrectAnswer: taille2 <- 164
  AnswerTests: omnitest(correctExpr = 'taille2 <- 164')
  Hint: Tapez taille2 <- 164
  
- Class: cmd_question
  Output: Puis 197 à taille3.
  CorrectAnswer: taille3 <- 197
  AnswerTests: omnitest(correctExp = 'taille3 <- 197')
  Hint: Tapez taille3 <- 197

- Class: cmd_question
  Output: Nous pouvons alors calculer la moyenne en divisant la somme de ces 
    3 tailles par 3. 
    Essayez.
  CorrectAnswer: (taille1 + taille2 + taille3) / 3
  AnswerTests: omnitest(correctExpr = '(taille1 + taille2 + taille3) / 3')
  Hint: "Tapez (taille1 + taille2 + taille3) / 3"
  
- Class: text
  Output: Ce n'est guère pratique !
    R a un type dédié qui facilite grandement ces calculs, les vecteurs.
    C'est une collection de valeurs (des nombres). 
    Tout objet dans R qui contient une donnée est appelé une structure de donnée.
    Les vecteurs numériques sont les structures de données les plus simple.
    En fait, même un nombre seul est considéré comme un vecteur de longueur 1.

- Class: cmd_question
  Output: La façon la plus simple de créer un vecteur est d'utiliser la commande
    c(), qui signifie 'concatenate' ou 'combine' (assembler en anglais).
    Pour créer un vecteur contenant les tailles précédentes, tapez 
    c(156, 164, 197).
    Essayez et stockez le résultat dans l'objet tailles.
  CorrectAnswer: tailles <- c(156, 164, 197)
  AnswerTests: omnitest(correctExpr =  'tailles <- c(156, 164, 197)')
  Hint: Tapez tailles <- c(156, 164, 197) et appuyez sur entrée.
    Cela assigne le vecteur (156, 164, 197) au nouvel objet tailles. 
    Les espaces après la virgule ne sont pas nécessaire mais rendent le code plus
    lisible.

- Class: cmd_question
  Output: Si vous avez une question sur une commande particulière de R, vous 
    pouvez accéder à l'aide intégrée à R à l'aide de la commande `?` suivi de la
    commande.
    Par exemple, si vous voulez obtenir des informations sur la commande c(), 
    tapez ?c sans les parenthèses.
    Essayez !
  CorrectAnswer: ?c
  AnswerTests: omnitest(correctExpr='?c')
  Hint: Tapez ?c et appuyez sur Entrée. 
    L'aide pour la commande c() s'affichera (en bas à droite dans Rstudio
    normalement)

- Class: cmd_question
  Output: Tapez tailles pour voir son contenu.
    Remarquez qu'il y n'y a pas de virgules qui séparent les valeurs dans
    l'affichage.
  CorrectAnswer: tailles
  AnswerTests: omnitest(correctExpr='tailles')
  Hint: Tapez tailles et appuyez sur Entrée pour voir son contenu.


- Class: cmd_question
  Output: On peut combiner les vecteurs pour faire un nouveau vecteur.
    Créez un vecteur qui combine tailles, 185 et tailles encore, dans cet ordre.
    N'assignez pas le vecteur à un nouvel objet, afin qu'on puisse voir le 
    résultat immédiatement.
  CorrectAnswer: c(tailles, 185, tailles)
  AnswerTests: omnitest(correctExpr='c(tailles, 185, tailles)')
  Hint: Tapez c(tailles, 185, tailles).
    Ne créez pas de nouvelle variable.
    On veut simplement voir le résultat.
  
- Class: cmd_question
  Output: 'Les vecteurs numériques peuvent aussi servir dans des opérations.
    Tapez ceci pour observer le résultat : tailles * 2 + 100.'
  CorrectAnswer: tailles * 2 + 100
  AnswerTests: omnitest(correctExpr='tailles * 2 + 100')
  Hint: Tapez tailles * 2 + 100, sans assigner le résultat à un objet.

- Class: text
  Output: R a d'abord multiplié les 3 éléments de tailles par 2.
    Il a ensuite ajouté 100 à chacun pour obtenir le résultat que vous voyez 
    ci-dessus.
    
- Class: cmd_question
  Output: On accède à un élément d'un vecteur en donnant sa position entre 
    crochets [].
    Si vous souhaitez accéder au deuxième élément du vecteur tailles, il faut taper 
    tailles[2]
  CorrectAnswer: tailles[2]
  AnswerTests: omnitest(correctExpr = 'tailles[2]' )
  Hint: Tapez tailles[2]
  
- Class: cmd_question
  Output: On cherche à obtenir les tailles en mètres, puis à calculer leur 
    racine carrée.
    Prenez la racine carrée de tailles / 100 et assignez-le à un nouvel objet,
    ma_racine.
  CorrectAnswer: ma_racine <- sqrt(tailles / 100)
  AnswerTests: omnitest(correctExpr='ma_racine <- sqrt(tailles / 100)')
  Hint: Assignez le résultat de sqrt(tailles / 100) à l'objet appelé ma_racine.
  
- Class: mult_question
  Output: Avant de voir l'objet ma_racine, que pensez-vous qu'il contient ?
  CorrectAnswer: un vecteur de longueur 3
  AnswerChoices: un vecteur de longueur 3 ; un nombre (= un vecteur de longueur 1) ;
    un vecteur de longueur 0 (= un vecteur vide)
  AnswerTests: omnitest(correctVal='un vecteur de longueur 3')
  Hint: 'Pensez à comment R a procéder aux opérations sur les précédents vecteurs :
   éléments par éléments.'
   
- Class: cmd_question
  Output: Imprimez le contenu du vecteur ma_racine.
  CorrectAnswer: ma_racine
  AnswerTests: omnitest(correctExpr='ma_racine')
  Hint: Tapez simplement ma_racine puis appuyez sur Entrée.
  
- Class: text
  Output: Comment vous l'avez probablement deviné, R a d'abord divisé tailles par 
    100, puis à pris la racine carré de chacun.
    On obtient ainsi
    un vecteur de même longueur que le vecteur d'origine tailles.
   
- Class: cmd_question
  Output: On cherche maintenant à calculer les IMC correspondant aux tailles.
    Commençons par créer un nouveau vecteur poids, contenant les valeurs
    55, 65 et 78 (dans cet ordre)
  CorrectAnswer: poids <- c(55, 65, 78)
  AnswerTests: omnitest(correctExpr='poids <- c(55, 65, 78)')
  Hint: Rappelez-vous comment on a créé des vecteurs plus tôt.
  
- Class: cmd_question
  Output: Calculons maintenant l'imc de chacun. 
    Créez une nouvelle variable imc qui prend les valeurs des poids divisés 
    par taille au carré.
    N'oubliez pas que la taille doit être en mètre !
  CorrectAnswer: imc <-  poids / (tailles/100)^2
  AnswerTests: omnitest(correctExpr='imc <-  poids / (tailles/100)^2')
  Hint: Tapez imc <-  poids / (tailles/100)^2

- Class: mult_question
  Output: Quelle affirmation est vraie ?
  CorrectAnswer: Le premier élément d'imc est égal au premier élément de poids
    divisé par le carré du premier élément de tailles / 100, etc.
  AnswerChoices: Le premier élément d'imc est égal au premier élément de poids
    divisé par le carré du premier élément de tailles / 100, etc.; imc est un
    nombre unique; imc n'est pas défini
  AnswerTests: omnitest(correctVal="Le premier élément d'imc est égal au premier
    élément de poids divisé par le carré du premier élément de tailles / 100, 
    etc.")
  Hint: Comment R fait des opérations sur les vecteurs ?

- Class: cmd_question
  Output: Regardons le contenu d'imc.
  CorrectAnswer: imc
  AnswerTests: omnitest(correctExpr='imc')
  Hint: Tapez imc puis appuyez sur entrée pour voir le résultat.
  
- Class: text
  Output: Quand R a deux vecteurs de même longeur, R effectue les opérations 
    spécifiée élément par élément. 
    Dans le cas ou un des vecteurs est plus court que les autres, R 'recycle' le
    vecteur le plus court jusqu'à ce qu'il atteigne la longueur du vecteur le
    plus long.
    
- Class: text
  Output: Quand on a calculé tailles * 2 + 100 plus tôt, tailles est un vecteur
    de longueur 3, et techniquement 2 et 100 sont chacun des vecteurs de 
    longueur 1.
    Pour effectuer le calcul, R 'recycle' 2 pour en faire un vecteur de 2 et
    100 pour en faire un vecteur de 100.
    En clair, l'opération réellement effectuée est tailles * c(2, 2, 2) + 
    c(100, 100, 100).

- Class: cmd_question
  Output: Voici un exemple de 'recyclage', plus parlant.
    Essayez d'ajouter c(1, 2, 3, 4) et c(0, 10).
  CorrectAnswer: c(1, 2, 3, 4) + c(0, 10)
  AnswerTests: omnitest(correctExpr='c(1, 2, 3, 4) + c(0, 10)')
  Hint: Tapez c(1, 2, 3, 4) + c(0, 10) dans la console.
    N'essayez pas de sauvegarder le résultat dans un objet.
    
- Class: text
  Output: Si la longueur du vecteur le plus long n'est pas un multiple de la 
    longueur du vecteur le plus court, R continuera à recycler les valeur, mais 
    vous préviendra que quelque chose de potentiellement étrange se déroule.

- Class: cmd_question
  Output: Essayez c(1, 2, 3, 4) + c(0, 10, 100) par exemple.
  CorrectAnswer: c(1, 2, 3, 4) + c(0, 10, 100)
  AnswerTests: omnitest(correctExpr='c(1, 2, 3, 4) + c(0, 10, 100)')
  Hint: Tapez c(1, 2, 3, 4) + c(0, 10, 100) pour voir comment R additionne deux
   vecteurs si la longeur du plus long n'est pas un multiple de la longueur du 
   plus court. Pas d'assignation ici.
   
- Class: text
  Output: Il y a de nombreuses autres manières de construire des vecteurs, 
    en particulier des vecteurs de numériques.
    Nous les verrons en temps voulu.
  
- Class: text
  Output: Avant de finir la leçon, je vais vous apprendre quelques techniques
    pour gagner un peu de temps.
    Tout à l'heure, vous avez calculé tailles * 2 + 100. 
    Imaginons que vous vous soyez trompé et que vous avez ajouté 1000 plutôt que
    100.
    Vous pouvez retaper toute l'expression, ou bien...

- Class: cmd_question
  Output: Dans beaucoup d'environnement de programmation, la flèche vers le haut 
    vous permet de visualiser les commandes précédentes.
    Appuyez sur la flèche haut de votre clavier jusqu'à atteindre la commande 
    tailles * 2 + 100.
    Changez 100 en 1000 et appuyez sur entrée.
    Si la flèche vers le haut ne marche pas chez vous, tapez juste l'expression
    en entier.
  CorrectAnswer: tailles * 2 + 1000
  AnswerTests: omnitest(correctExpr='tailles * 2 + 1000')
  Hint: Si votre environnement ne vous permet pas d'utiliser la flèche vers le haut,
    tapez simplement l'expression corrigée pour passer à la suite.

- Class: text
  Output: Enfin, imaginons que vous voulez afficher le contenu d'un objet
    que vous avez créé auparavant, mais que vous ne vous souvenez plus du nom 
    exact, ma_racine ou maRacine.
    Vous pouvez essayer les deux et chercher celle qui marche, ou...
    
- Class: text
  Output: Vous pouvez taper les deux lettres du nom de l'objet et appuyer sur
    la touche Tab (potentiellement plusieurs fois).
    La plupart des environnements de programmation vous afficheront une liste 
    des objets que vous avez créé qui commence par 'ma'.
    Cela s'appelle l'auto-complétion et c'est très pratique.
    Essayez.
  CorrectAnswer: ma_racine
  AnswerTests: omnitest(correctExpr='ma_racine')
  Hint: Si votre environnement de programmation ne vous permet pas d'utiliser 
    l'auto-complétion, tapez simplement ma_racine et appuyez sur entrée pour 
    continuer.
  

  
# - Class: cmd_question
#   Output: "Un type d'objet similaire aux vecteurs est la liste.
#   Une liste est essentiellement un vecteur ou les valeurs ont des noms, si elles sont explicitement nommés, ou des numéros.
#   Une liste est créée grâce à la commande list().
#   Dans une liste intitulée identitée, vous pouvez nommer le nom, le prénom et l'âge.
#   Essayer identite <- list(nom = votre_nom, prenom = votre_prenom, age = votre_age)."
#   CorrectAnswer: identite <- list(nom = "Doe", prenom = "John", age = 32)
#   AnswerTests: omnitest(correctExpr = 'list(nom = "Doe", prenom = "John", age = 32)')
#   Hint: Taper identite <- list(nom = "Doe", prenom = "John", age = 32)
#   
# - Class: text
#   Output: "Remarquer que le nommage des variables fonctionne essentiellement comme une assignation, mais qui n'est valable qu'au sein de la liste.
#   Si vous essayez de taper nom dans l'invite de commande, vous obtiendrez une erreur. # Would be nice to able to make that work.
#   Pour faire cette assignation au sein d'une liste, vous devez utiliser le signe =, <- ne marchera pas.
#   "
#   
# - Class: cmd_question
#   Output: "Il est possible de nommer"
#   CorrectAnswer: identite <- list(nom = "Doe", prenom = "John", age = 32)
#   AnswerTests: omnitest(correctExpr =  'identite <- list(nom = "Doe", prenom = "John", age = 32)')
#   Hint: Taper identite <- list(nom = "Doe", prenom = "John", age = 32)
    
