---
title: "S√©ance 2 : Donn√©es et fonctions int√©gr√©es"
subtitle: "Apprendre R avec les LLMs"
author: "Elias Bouacida"
date: last-modified
date-format: long
format:
  html: default
  revealjs:
    scrollable: true
    slide-number: true
    output-file: slide-lecon2.html
    embed-resources: true
    footer: "S√©ance 2 - Donn√©es et fonctions"
format-links: [revealjs]
lang: fr
execute:
  echo: true
---

## Plan de la s√©ance {.smaller}

::: {.incremental}
- **R√©cap et partage** (20min) : Retours sur vos journaux
- **Charger des donn√©es** (45min) : Importer des fichiers CSV
- **Exploration de donn√©es** (45min) : Structure et types de donn√©es
- **Statistiques descriptives** (45min) : Analyser les donn√©es
- **Visualisations de base** (45min) : Cr√©er des graphiques
- **Mini-projet** (50min) : Analyser des donn√©es r√©elles
:::

::: {.fragment}
**Production attendue :** Analyse comment√©e de donn√©es avec graphiques
:::

## Objectifs de la s√©ance

::: {.callout-tip}
## Manipuler de vraies donn√©es
:::

::: {.incremental}
- **Importer** des donn√©es depuis des fichiers
- **Explorer** la structure des donn√©es (data frames)
- Calculer des **statistiques descriptives**
- Cr√©er des **visualisations** simples
- G√©rer les **donn√©es manquantes**
- **D√©bugger** avec l'aide des LLMs
:::

# R√©cap et partage {background-color="#2E8B57"}

## Retours sur la s√©ance 1

::: {.incremental}
- Qu'avez-vous retenu de la semaine derni√®re ?
- Quels concepts restent flous ?
- Avez-vous pratiqu√© entre les s√©ances ?
:::

## Retours sur vos journaux {.smaller}

::: {.callout-note}
## Conseils pour am√©liorer vos journaux
:::

::: {.incremental}
- **Copier-coller** les prompts exacts que vous utilisez
- **Documenter** les r√©ponses du LLM (pas juste des captures d'√©cran)
- **Expliquer avec vos propres mots** ce que vous avez compris
- **Noter les erreurs** rencontr√©es et comment vous les avez r√©solues
- **√âviter** les formats propri√©taires (.pages) - pr√©f√©rer .docx ou .pdf
:::

::: {.notes}
10 minutes. Discuter des journaux. Montrer des exemples anonymis√©s (bons et moins bons).
:::

## Exercice de r√©vision {.smaller}

**Sans utiliser le LLM, √©crivez un script qui :**

1. Cr√©e un vecteur avec 5 nombres de votre choix
2. Calcule la moyenne
3. Trouve le maximum
4. Affiche les r√©sultats avec `print()`

::: {.fragment}
**Ensuite, comparez avec votre voisin et discutez des diff√©rences.**
:::

::: {.notes}
10 minutes. R√©vision active. Encourage la discussion entre √©tudiants.
:::

# Charger des donn√©es {background-color="#4169E1"}

## Des vecteurs aux donn√©es r√©elles

Jusqu'ici, vous avez cr√©√© des donn√©es avec `c()` :

```{r}
#| eval: false
notes <- c(12, 15, 13, 8)
```

::: {.fragment}
**Dans la vraie vie**, les donn√©es viennent souvent de fichiers : CSV, Excel, bases de donn√©es, etc.
:::

## Le format CSV

::: {.callout-note}
## CSV = Comma Separated Values
Un format simple et universel pour stocker des donn√©es tabulaires.
:::

::: {.fragment}
**Exemple de contenu CSV :**

```
nom,age,note
Alice,20,15
Bob,22,12
Charlie,21,14
```
:::

## Exercice 1 : T√©l√©charger les donn√©es {.smaller}

1. Connectez-vous sur Moodle
2. T√©l√©chargez le fichier `donnees_meteo.csv`
3. Placez-le dans votre dossier de travail

::: {.fragment}
**Comment conna√Ætre votre dossier de travail ?**

```{r}
#| eval: false
getwd()  # "get working directory"
```
:::

::: {.fragment}
**Pour le changer :**

```{r}
#| eval: false
setwd("/chemin/vers/votre/dossier")
```

Ou utilisez **Session > Set Working Directory** dans RStudio.
:::

::: {.notes}
10 minutes. S'assurer que tout le monde a les donn√©es au bon endroit. Circuler pour aider.
:::

## Exercice 2 : Importer les donn√©es {.smaller}

**Demandez √† votre LLM :**

> "Comment importer un fichier CSV en R ? Je d√©bute en programmation."

::: {.fragment}
Vous devriez obtenir quelque chose comme :

```{r}
#| eval: false
donnees_meteo <- read.csv("donnees_meteo.csv")
```
:::

::: {.fragment}
**Testez cette commande !**

En cas d'erreur, demandez au LLM de vous aider √† d√©bugger.
:::

::: {.notes}
15 minutes. Premi√®re importation de donn√©es. Anticiper les erreurs de chemin, d'encodage, etc.
:::

## V√©rifier l'importation

Une fois import√©, v√©rifiez que √ßa a fonctionn√© :

```{r}
#| eval: false
# Afficher les premi√®res lignes
head(donnees_meteo)

# Afficher la structure
str(donnees_meteo)
```

::: {.fragment}
**Demandez au LLM d'expliquer ce que montrent ces fonctions.**
:::

# Exploration de donn√©es {background-color="#FF8C00"}

## Les data frames

Les donn√©es import√©es sont stock√©es dans un **data frame**.

::: {.fragment}
::: {.callout-tip}
## Analogie
Un data frame est comme un tableau Excel : des lignes (observations) et des colonnes (variables).
:::
:::

## Exercice 3 : Explorer la structure {.smaller}

**Avec vos donn√©es m√©t√©o, testez :**

```{r}
#| eval: false
# Nombre de lignes et colonnes
nrow(donnees_meteo)
ncol(donnees_meteo)
dim(donnees_meteo)  # les deux √† la fois

# Noms des colonnes
names(donnees_meteo)
colnames(donnees_meteo)

# R√©sum√© rapide
summary(donnees_meteo)
```

::: {.fragment}
**Questions :**

1. Combien d'observations avez-vous ?
2. Quelles variables (colonnes) sont pr√©sentes ?
3. Quel type de donn√©es contient chaque colonne ?
:::

::: {.notes}
15 minutes. D√©couverte des fonctions d'exploration. Essentielles pour comprendre les donn√©es.
:::

## Acc√©der aux colonnes

Pour acc√©der √† une colonne sp√©cifique, utilisez `$` :

```{r}
#| eval: false
donnees_meteo$temperature
donnees_meteo$date
```

::: {.fragment}
**Cela retourne un vecteur !** Vous pouvez donc utiliser toutes les fonctions que vous connaissez :

```{r}
#| eval: false
mean(donnees_meteo$temperature)
max(donnees_meteo$temperature)
```
:::

## Exercice 4 : Analyser les variables {.smaller}

**Pour chaque variable num√©rique dans vos donn√©es, calculez :**

1. La moyenne
2. La m√©diane
3. Le minimum
4. Le maximum
5. L'√©cart-type (`sd()`)

::: {.fragment}
**Demandez au LLM :**

> "Comment calculer des statistiques descriptives sur une colonne d'un data frame en R ?"
:::

::: {.fragment}
**Notez vos r√©sultats dans un commentaire de votre script.**
:::

::: {.notes}
15 minutes. Application pratique. Les √©tudiants utilisent $ et les fonctions statistiques.
:::

# Statistiques descriptives {background-color="#8B008B"}

## La fonction `summary()`

`summary()` donne un aper√ßu rapide :

```{r}
#| eval: false
summary(donnees_meteo$temperature)
```

::: {.fragment}
Elle affiche :

- Minimum et maximum
- 1er quartile, m√©diane, 3e quartile
- Moyenne
:::

## Exercice 5 : Comparer avec vos calculs {.smaller}

**Comparez vos calculs pr√©c√©dents avec `summary()` :**

```{r}
#| eval: false
# Vos calculs
mean(donnees_meteo$temperature)
median(donnees_meteo$temperature)
min(donnees_meteo$temperature)
max(donnees_meteo$temperature)

# Summary
summary(donnees_meteo$temperature)
```

::: {.fragment}
**Questions :**

1. Les r√©sultats correspondent-ils ?
2. Que signifie "m√©diane" ? (Demandez au LLM si vous ne savez pas)
3. Que signifient les quartiles ?
:::

::: {.notes}
15 minutes. V√©rification et approfondissement. Introduction aux quartiles.
:::

## G√©rer les valeurs manquantes (NA) {.smaller}

**Testez ce code :**

```{r}
#| eval: false
# Y a-t-il des NA dans vos donn√©es ?
sum(is.na(donnees_meteo$temperature))

# Afficher les lignes avec des NA
donnees_meteo[is.na(donnees_meteo$temperature), ]
```

::: {.fragment}
**Demandez au LLM :**

> "Comment g√©rer les valeurs manquantes (NA) lors du calcul de statistiques en R ?"
:::

::: {.fragment}
Vous d√©couvrirez le param√®tre `na.rm = TRUE` :

```{r}
#| eval: false
mean(donnees_meteo$temperature, na.rm = TRUE)
```
:::

::: {.notes}
15 minutes. Probl√®me r√©el tr√®s fr√©quent. Important de comprendre na.rm.
:::

## Exercice 6 : Rapport statistique {.smaller}

**Cr√©ez un script qui g√©n√®re un rapport complet sur la variable temp√©rature :**

```{r}
#| eval: false
# Rapport sur la temp√©rature
print("=== ANALYSE DE LA TEMP√âRATURE ===")
print(paste("Nombre d'observations :", length(donnees_meteo$temperature)))
print(paste("Valeurs manquantes :", sum(is.na(donnees_meteo$temperature))))
print(paste("Moyenne :", mean(donnees_meteo$temperature, na.rm = TRUE)))
print(paste("M√©diane :", median(donnees_meteo$temperature, na.rm = TRUE)))
print(paste("√âcart-type :", sd(donnees_meteo$temperature, na.rm = TRUE)))
```

::: {.fragment}
**Extension :** Faites la m√™me chose pour une autre variable.
:::

::: {.notes}
15 minutes. Exercice de synth√®se. Introduction √† paste() pour formater.
:::

# Visualisations {background-color="#DC143C"}

## Pourquoi visualiser ?

::: {.incremental}
- Les chiffres ne suffisent pas toujours
- Un graphique r√©v√®le des **patterns** invisibles dans les tableaux
- Communiquer plus efficacement
:::

## Exercice 7 : Premier graphique {.smaller}

**Demandez au LLM :**

> "Comment cr√©er un graphique simple en R pour visualiser l'√©volution d'une variable dans le temps ? Je d√©bute."

::: {.fragment}
Vous d√©couvrirez probablement `plot()` :

```{r}
#| eval: false
plot(donnees_meteo$date, donnees_meteo$temperature)
```
:::

::: {.fragment}
**Testez ce code !**

Si vous avez une erreur avec les dates, demandez au LLM comment les convertir au bon format.
:::

::: {.notes}
15 minutes. Premier graphique. Les dates peuvent poser probl√®me - bon exercice de debugging.
:::

## Am√©liorer le graphique {.smaller}

Les graphiques de base peuvent √™tre personnalis√©s :

```{r}
#| eval: false
plot(donnees_meteo$date, donnees_meteo$temperature,
     type = "l",  # ligne au lieu de points
     col = "blue",
     main = "√âvolution de la temp√©rature",
     xlab = "Date",
     ylab = "Temp√©rature (¬∞C)")
```

::: {.fragment}
**Demandez au LLM d'expliquer chaque param√®tre.**
:::

## Exercice 8 : Explorer d'autres graphiques {.smaller}

**Demandez au LLM comment cr√©er :**

1. Un histogramme de la temp√©rature
2. Un boxplot (bo√Æte √† moustaches)
3. Un graphique de points (scatter plot) si vous avez deux variables num√©riques

::: {.fragment}
**Testez chaque type et notez dans votre journal :**

- La commande utilis√©e
- Ce que montre le graphique
- Quand l'utiliser
:::

::: {.notes}
20 minutes. Exploration des types de graphiques. Encourager la curiosit√©.
:::

## Sauvegarder un graphique

Pour sauvegarder un graphique :

```{r}
#| eval: false
# Ouvrir un fichier
png("mon_graphique.png", width = 800, height = 600)

# Cr√©er le graphique
plot(donnees_meteo$date, donnees_meteo$temperature, type = "l")

# Fermer le fichier
dev.off()
```

::: {.fragment}
Le fichier sera dans votre dossier de travail.
:::

# Debugging {background-color="#2F4F4F"}

## Les erreurs sont normales !

::: {.callout-warning}
## Important
Tout le monde rencontre des erreurs. C'est une partie essentielle de la programmation.
:::

::: {.fragment}
**Strat√©gie de debugging :**

1. **Lire** le message d'erreur (m√™me s'il semble cryptique)
2. **Identifier** la ligne probl√©matique
3. **Tester** des hypoth√®ses
4. **Demander** de l'aide (LLM, documentation, pairs)
:::

## Exercice 9 : Debugging collectif {.smaller}

**Voici du code avec des erreurs. Trouvez-les et corrigez-les :**

```{r}
#| eval: false
# Charger les donn√©es
donnees <- read.csv(donnees_meteo.csv)

# Calculer la moyenne
moyenne_temp <- mean(donnees$Temperature)

# Afficher
print("La moyenne est" moyenne_temp)
```

::: {.fragment}
**Travaillez par groupes de 2-3. Utilisez le LLM si n√©cessaire.**
:::

::: {.fragment}
**Erreurs √† trouver :**

1. Guillemets manquants autour du nom de fichier
2. Majuscule incorrecte dans le nom de colonne
3. Virgule manquante dans `print()`
:::

::: {.notes}
15 minutes. Exercice collectif. Discuter ensuite des types d'erreurs courantes.
:::

## Bien utiliser le LLM pour d√©bugger {.smaller}

::: {.callout-tip}
## Comment demander de l'aide efficacement
:::

**Mauvais prompt :**
> "√áa marche pas"

**Bon prompt :**
> "J'essaie d'importer un fichier CSV avec read.csv() mais j'obtiens cette erreur : [copier l'erreur exacte]. Voici mon code : [copier le code]. Que dois-je corriger ?"

::: {.fragment}
**Donnez toujours :**

- Le code exact
- L'erreur compl√®te
- Ce que vous essayez de faire
- Votre niveau (d√©butant)
:::

# Mini-projet {background-color="#2E8B57"}

## Projet : Analyse de donn√©es INSEE {.smaller}

**Objectif :** Analyser des donn√©es √©conomiques r√©elles.

**√âtapes :**

1. Allez sur <https://www.insee.fr/fr/statistiques/2830613>
2. T√©l√©chargez les donn√©es du PIB (format CSV de pr√©f√©rence)
3. Importez-les dans R
4. Cr√©ez un rapport complet

::: {.callout-note}
## Rapport attendu
- Import et v√©rification des donn√©es
- Statistiques descriptives
- Au moins 2 graphiques
- Commentaires expliquant vos observations
:::

::: {.notes}
50 minutes. Projet autonome. Circuler beaucoup. Les √©tudiants vont rencontrer des difficult√©s (format de donn√©es, etc.) - c'est normal et formateur.
:::

## Crit√®res du mini-projet {.smaller}

Votre analyse doit inclure :

::: {.incremental}
- ‚úÖ Import r√©ussi des donn√©es
- ‚úÖ Exploration de la structure (`str()`, `summary()`, etc.)
- ‚úÖ Au moins 5 statistiques descriptives calcul√©es
- ‚úÖ Au moins 2 visualisations diff√©rentes
- ‚úÖ Code comment√© et organis√©
- ‚úÖ Interpr√©tation des r√©sultats (commentaires en fran√ßais)
:::

::: {.fragment}
**Bonus :**

- Gestion des NA
- Graphiques personnalis√©s
- Comparaison entre plusieurs variables
:::

## Aide pour le projet {.smaller}

**Si vous √™tes bloqu√© :**

1. Relisez les exercices pr√©c√©dents
2. Consultez votre journal
3. Demandez √† votre voisin
4. Utilisez le LLM avec un prompt pr√©cis
5. Appelez l'enseignant

::: {.fragment}
::: {.callout-tip}
## Conseil
Proc√©dez par √©tapes. Testez chaque ligne avant de passer √† la suivante.
:::
:::

# Retour r√©flexif {background-color="#4169E1"}

## Exercice de synth√®se : Journal de bord {.smaller}

**Dans votre journal, documentez :**

1. **Import de donn√©es** :
   - Prompts utilis√©s pour apprendre √† importer
   - Difficult√©s rencontr√©es (chemins, formats, etc.)
   - Solutions trouv√©es

2. **Analyse et visualisation** :
   - 3 fonctions nouvelles que vous ma√Ætrisez maintenant
   - Un graphique dont vous √™tes fier (copier le code)
   - Une chose que vous ne comprenez pas encore

3. **Debugging** :
   - Une erreur marquante et comment vous l'avez r√©solue
   - Un bon prompt de debugging qui a fonctionn√©

::: {.notes}
15 minutes. Temps de r√©flexion calme. Important pour ancrer les apprentissages.
:::

## √âvolution de vos comp√©tences

::: {.incremental}
**S√©ance 1 :** Vous avez appris les bases (objets, fonctions, vecteurs)

**S√©ance 2 :** Vous savez maintenant :

- Importer des donn√©es r√©elles
- Les explorer et les analyser
- Cr√©er des visualisations
- D√©bugger efficacement
:::

::: {.fragment}
**Vous √™tes d√©j√† capable d'analyser de vraies donn√©es ! üéâ**
:::

# Ressources et prochaines √©tapes {background-color="#8B008B"}

## Fonctions cl√©s de cette s√©ance

::: {.incremental}
**Import et exploration :**

- `read.csv()`, `getwd()`, `setwd()`
- `head()`, `str()`, `summary()`, `dim()`, `names()`

**Statistiques :**

- `mean()`, `median()`, `sd()`, `min()`, `max()`
- `na.rm = TRUE` pour g√©rer les NA

**Visualisation :**

- `plot()`, `hist()`, `boxplot()`
- Param√®tres : `type`, `col`, `main`, `xlab`, `ylab`
:::

## Pour aller plus loin

::: {.incremental}
- **Pratiquez** avec d'autres jeux de donn√©es
- **Explorez** d'autres types de graphiques
- **D√©couvrez** le package `ggplot2` (pour plus tard)
- **Partagez** vos visualisations avec vos camarades
:::

## Pr√©paration prochaine s√©ance

::: {.callout-note}
## Devoirs

1. Terminez le mini-projet INSEE si besoin
2. **Mettez √† jour votre journal** avec tous les d√©tails de cette s√©ance
3. Trouvez un jeu de donn√©es qui vous int√©resse et analysez-le
4. Cr√©ez au moins 3 graphiques diff√©rents avec vos donn√©es
:::

::: {.fragment}
**Prochaine s√©ance :** Fonctions, conditions et boucles - automatiser vos analyses !
:::

## Questions ?

::: {.callout-tip}
## Points cl√©s √† retenir

- Les **data frames** sont essentiels pour travailler avec des donn√©es r√©elles
- `$` permet d'acc√©der aux colonnes
- Toujours v√©rifier les **NA** avant de calculer
- Les **visualisations** r√©v√®lent ce que les chiffres cachent
- Le **debugging** fait partie du processus - soyez patient !
:::

::: {.fragment}
**Bon courage et bonnes analyses ! üìä**
:::

